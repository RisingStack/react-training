var BrowserWebSocket=function(e){function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n){function t(e,n){return"undefined"!=typeof WebSocket&&(this===function(){return this}()?new t(e,n):(this.url=e,this.ws=new WebSocket(e),this.debugging=n,this.events={open:[],close:[],error:[],message:[]},void(n&&(this.on("open",function(){console.log("%s(%d)\nconnect successful: %s ...",Date(),Date.now(),this.url)}),this.on("close",function(){console.log("%s(%d)\nconnection interrupted ...",Date(),Date.now())}),this.on("error",function(){console.log("%s(%d)\nsomething error ...",Date(),Date.now())}),this.on("message",function(e){var n=e.data;console.log("%s(%d)\nreceived message: <-- %s ...",Date(),Date.now(),n)})))))}t.prototype={on:function(e,n){if(!e||!n)throw new Error("Not enough arguments");if(!this.events.hasOwnProperty(e))throw new Error("Only accept [open, close, error, message] event");!this.events[e].indexOf(n)>-1&&(this.events[e]=this.events[e].concat(n)),this.ws.addEventListener(e,n)},off:function(e,n){var t=this.events[e].indexOf(n);t<0||(this.ws.removeEventListener(e,n),this.events[e].splice(t,1))},emit:function(e){1!==this.ws.readyState&&console.log("%s(%d)\nconnection is not established, please wait ...",Date(),Date.now()),this.debugging&&console.log("%s(%d)\nsend message: --\x3e %s ...",Date(),Date.now(),e),this.ws.send(e)},close:function(){this.debugging&&console.log("%s(%d)\nclose connection ...",Date(),Date.now()),this.ws.close()},reconnect:function(){this.debugging&&console.log("%s(%d)\ntry to reconnect ...",Date(),Date.now());var e=this.events,n=new WebSocket(this.url),t=this;for(var o in e)if(e.hasOwnProperty(o))for(var s in e[o])n.addEventListener(o,e[o][s]);n.addEventListener("open",function(){t.ws=n})}},e.exports=t}]);